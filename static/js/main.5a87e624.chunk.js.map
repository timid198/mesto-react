{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/CardDeletePopup.js","components/Spinner/Spinner.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","CurrentUserContext","React","createContext","Card","card","cardClick","onCardDelete","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","link","alt","name","onClick","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","cards","deleteCard","avatar","about","Array","from","map","item","Footer","Date","getFullYear","ImagePopup","onClose","api","address","token","groupID","this","_address","_token","_groupID","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkPromise","data","method","body","JSON","stringify","id","response","resolve","isLike","PopupWithForm","title","buttonText","isOpen","onSubmit","children","noValidate","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setTitle","setLink","CardDeletePopup","autoFocus","Spinner","isLoading","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","cardToDelete","setCardToDelete","selectedCard","setSelectedCard","closeAllPopups","setCurrentUser","setCards","setLoading","all","getUserData","getCards","userData","cardsData","catch","err","console","log","finally","Provider","element","changeCardsLikes","newCard","state","c","props","pushUserData","changeAvatar","pushAddCardData","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a87e624.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"header__logo\">\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext('');","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, cardClick, onCardDelete, onCardLike }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  \r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const cardDeleteButtonClassName = (\r\n    `element__trash ${isOwn ? 'element__trash_set' : 'element__trash_unset'}`\r\n  ); \r\n\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n  const cardLikeButtonClassName = (\r\n    `element__title-like ${isLiked ? 'element__title-like_unset' : 'element__title-like_set'}`\r\n  ); \r\n\r\n  function handleClick() {\r\n    cardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <img src={card.link} alt={card.name} className=\"element__image\" onClick={handleClick} />\r\n      <button type=\"submit\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n      <p className=\"element__title-counter\">{card.likes.length}</p>\r\n      <div className=\"element__title\">\r\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n        <h2 className=\"element__title-text\">{card.name}</h2>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, deleteCard, cards, onCardLike, onCardDelete }) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext); \r\n  \r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__content\">\r\n          <div className=\"profile__image\">\r\n            <img src={currentUser.avatar} alt=\"Аватар\" className=\"profile__avatar\" />\r\n            <button type=\"button\" className=\"profile__overlay\" onClick={onEditAvatar}></button>\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <div className=\"profile__info-title\"><h2 className=\"profile__visitor-name\">{currentUser.name}</h2><button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button></div>\r\n            <p className=\"profile__visitor-attribute\">{currentUser.about}</p>\r\n          </div>\r\n          <div className=\"profile__add\">\r\n            <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {Array.from(cards).map((item) => (<Card key={item._id} card={item} cardClick={onCardClick} onCardDelete={onCardDelete} onCardLike={onCardLike} />))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <article className=\"footer__copyright\">© {new Date().getFullYear()} Mesto Russia</article>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n  let className = `popup ${card.link ? 'popup_opened' : ''}`;\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className=\"popup__window popup-view__window\">\r\n        <button type=\"reset\" className=\"popup__close popup-view__close\" onClick={onClose}></button>\r\n        <div className=\"popup-view__form\">\r\n          <img src={card.link} alt={card.name} className=\"popup-view__image\" />\r\n          <h2 className=\"popup-view__title\">{card.name}</h2>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor({ address, token, groupID }) {\r\n        this._address = address;\r\n        this._token = token;\r\n        this._groupID = groupID;\r\n    }\r\n\r\n\r\n    _checkPromise(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`)\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._address}v1/${this._groupID}/cards`, {\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this._address}v1/${this._groupID}/users/me`, {\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    pushUserData(data) {\r\n        return fetch(`${this._address}v1/${this._groupID}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: `${this._token}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: `${data.name}`,\r\n                about: `${data.about}`,\r\n            })\r\n        })\r\n\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    pushAddCardData(data) {\r\n        return fetch(`${this._address}v1/${this._groupID}/cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: `${this._token}`,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n                name: `${data.name}`,\r\n                link: `${data.link}`,\r\n            })\r\n        })\r\n\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._address}v1/${this._groupID}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n            .then(response => response.ok\r\n                ? Promise.resolve('sucsess')\r\n                : Promise.reject(`Ошибка ${response.status}`))\r\n    }\r\n\r\n    changeCardsLikes(id, isLike) {\r\n        const status = isLike ? 'DELETE' : 'PUT';\r\n        return fetch(`${this._address}v1/${this._groupID}/cards/likes/${id}`, {\r\n            method: status,\r\n            headers: {\r\n                authorization: `${this._token}`\r\n            }\r\n        })\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n\r\n    changeAvatar(avatar) {\r\n        return fetch(`${this._address}v1/${this._groupID}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: `${this._token}`,\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                avatar: `${avatar}`\r\n            })\r\n        }\r\n        )\r\n            .then(res => this._checkPromise(res))\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    address: 'https://mesto.nomoreparties.co/',\r\n    token: '4f64f170-2de3-4b0f-8592-8133023e0f4d',\r\n    groupID: 'cohort-22',\r\n  })\r\n\r\nexport default api;","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, buttonText, isOpen, onClose, onSubmit, children }) {\r\n\r\n  let className = `popup popup-${name} ${isOpen ? 'popup_opened' : ''}`;\r\n\r\n  return (\r\n    <div className={className}>\r\n      <div className={`popup__window popup-${name}__window`}>\r\n        <button type=\"reset\" className={`popup__close popup-${name}__close`} onClick={onClose}></button>\r\n        <h2 className={`popup__title popup-${name}__title`}>{title}</h2>\r\n        <form className={`popup__form popup-${name}__form`} onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button type=\"submit\" className={`popup__button popup-${name}__button`}>{buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n\r\nconst [name, setName] = React.useState('');\r\nconst [description, setDescription] = React.useState('');\r\n\r\nconst currentUser = React.useContext(CurrentUserContext);\r\n\r\nReact.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]); \r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n\r\n    return (\r\n        <PopupWithForm name=\"edit\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\r\n              <section className=\"popup__section\">\r\n                <input type=\"text\" value={name} onChange={handleChangeName} name=\"name\" className=\"popup__input popup__input_name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required />\r\n                <span className=\"popup__error popup__error_name\" id=\"name-error\"> </span>\r\n              </section>\r\n              <section className=\"popup__section\">\r\n                <input type=\"text\"  value={description} onChange={handleChangeDescription} name=\"about\" className=\"popup__input popup__input_about\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required />\r\n                <span className=\"popup__error popup__error_about\" id=\"about-error\"> </span>\r\n              </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n    const avatarRef = React.useRef();\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();      \r\n        onUpdateAvatar({\r\n          avatar: avatarRef.current.value,\r\n        });\r\n        avatarRef.current.value = '';\r\n    } \r\n\r\n    return(\r\n        <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" buttonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\r\n              <section className=\"popup__section\">\r\n                <input type=\"url\" ref={avatarRef} name=\"avatar\" className=\"popup__input popup__input_avatar\" placeholder=\"Ссылка на аватар\" required />\r\n                <span className=\"popup__error popup__error_avatar\" id=\"avatar-error\"> </span>\r\n              </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n\r\n    const [title, setTitle] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        setTitle('');\r\n        setLink('');\r\n      }, [isOpen]); \r\n\r\n    function handleChangeTitle(e) {\r\n        setTitle(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: title,\r\n            link,\r\n        });\r\n    } \r\n\r\n    return (\r\n        <PopupWithForm name=\"add\" title=\"Новое место\" buttonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\r\n              <section className=\"popup__section\">\r\n                <input type=\"text\" name=\"title\" value={title} onChange={handleChangeTitle} className=\"popup__input popup__input_title\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\r\n                <span className=\"popup__error popup__error_title\" id=\"title-error\"></span>\r\n              </section>\r\n              <section className=\"popup__section\">\r\n                <input type=\"url\" name=\"link\" value={link} onChange={handleChangeLink} className=\"popup__input popup__input_link\" placeholder=\"Ссылка на картинку\" required />\r\n                <span className=\"popup__error popup__error_link\" id=\"link-error\"></span>\r\n              </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\n\r\nfunction CardDeletePopup({card, onClose, onCardDelete}) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();      \r\n        onCardDelete({\r\n          _id: card._id,\r\n        });\r\n    } \r\n\r\n    let className = `popup popup-delete ${card._id ? 'popup_opened' : ''}`;\r\n\r\n    return(\r\n        <div className={className}>\r\n            <div className=\"popup__window popup-delete__window\">\r\n                <button type=\"reset\" className=\"popup__close popup-delete__close\" onClick={onClose}></button>\r\n                <h2 className=\"popup__title popup-delete__title\">Вы уверены?</h2>\r\n                <form className=\"popup__form popup-delete__form\" onSubmit={handleSubmit} noValidate>\r\n                    <button type=\"submit\" autoFocus className=\"popup__button popup-delete__button\">Да</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardDeletePopup;","import React from 'react'\nimport './Spinner.css'\n\nfunction Spinner({isLoading}){\n\n    \n    return (\n        <div className=\"spinner\"></div>\n    )\n}\nexport default Spinner;","import React, {useState, useEffect} from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport CardDeletePopup from './CardDeletePopup';\nimport Spinner from './Spinner/Spinner';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  const [cardToDelete, setCardToDelete] = React.useState({});\n\n  function handleDeleteCard(card) {\n    setCardToDelete(card);\n  }\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  function handleCardClick(element) {\n    setSelectedCard(element);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setCardToDelete({})\n    setSelectedCard({});\n  }\n\n  const [currentUser, setCurrentUser] = useState( {name: '', about: '', avatar: '', _id: ''} );\n  const [cards, setCards] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true)\n    Promise.all([api.getUserData(), api.getCards()])\n      .then(res => {\n        let [userData, cardsData] = res;\n        setCurrentUser(userData);\n        setCards(cardsData);}) \n      .catch((err) => console.log(err))\n      .finally(() => {setLoading(false)})\n  }, [])\n\nfunction handleUpdateUser(props) {\n  setLoading(true)\n  api.pushUserData(props)\n  .then(res => {\n    setCurrentUser(res);\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n}\n\nfunction handleUpdateAvatar(props) {\n  setLoading(true)\n  api.changeAvatar(props.avatar)\n  .then(res => {\n    setCurrentUser(res);\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n  }\n  \n  function handleCardLike(card) {\n    setLoading(true)\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeCardsLikes(card._id, isLiked)\n    .then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));})\n    .catch((err) => console.log(err))\n    .finally(() => {setLoading(false)});\n} \n\nfunction handleCardDelete(card) {\n  setLoading(true)\n  api.deleteCard(card._id)\n  .then((newCard) => {\n    setCards((state) => state.filter((c) => c._id === card._id ? !newCard : c));\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n} \n\nfunction handleAddPlaceSubmit(props) {\n  setLoading(true)\n  api.pushAddCardData(props)\n  .then(res => {\n    setCards([res, ...cards]);\n    closeAllPopups();})\n  .catch((err) => console.log(err))\n  .finally(() => {setLoading(false)});\n}\n\n  return (\n\n    <CurrentUserContext.Provider value={currentUser}>      \n        <div className=\"App\">\n          <div className=\"page\">\n          \n            <Header />\n            { isLoading ? <Spinner /> : '' }\n            <Main \n            onEditProfile={handleEditProfileClick} \n            onAddPlace={handleAddPlaceClick} \n            onEditAvatar={handleEditAvatarClick} \n            onCardClick={handleCardClick} \n            onCardDelete={handleDeleteCard}\n            cards={cards} \n            onCardLike={handleCardLike}            \n             />\n            <Footer />\n            \n            <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n            <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} /> \n            <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} /> \n            <CardDeletePopup card={cardToDelete} onClose={closeAllPopups} onCardDelete={handleCardDelete} />           \n\n            \n\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n\n          </div>\n        </div>      \n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}